ASSUME CS:CODE, DS:DATA
DATA SEGMENT
	STR DB 'HELLOWORLD$'
	CHAR DB 'O'
	COUNT DB 'COUNT: $'
	NEW DW 1 DUP(?)
DATA ENDS
CODE SEGMENT
START:
	MOV AX, DATA
	MOV DS, AX
	LEA SI, STR
	XOR AX, AX
	XOR BX, BX
	XOR CX, CX
	MOV BL, CHAR
NEXT:
	MOV AL, [SI]
	CMP AL, '$'
	JZ STOP
	CMP AL, BL
	JNZ NOMATCH
	INC CL
NOMATCH:
	INC SI
	JMP NEXT
STOP:
	LEA DX, COUNT
	MOV AH, 09H
	INT 21H
	MOV NEW, CX
	MOV DL, CL
	ADD DL, 30H
	MOV AH, 02H
	INT 21H

	MOV AH, 4CH
	INT 21H
CODE ENDS
END START

